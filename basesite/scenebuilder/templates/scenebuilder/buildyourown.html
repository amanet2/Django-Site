{% extends "scenebuilder/base.html" %}
{% block content %}
{% if scene_template %}
<h2>Build your own scene grid for Map: custom</h2>
<h3>Python mapmaker uses these grids to generate a mapfile</h3>
{% for scene in scene_template %}
<ul>
    <hr>
    <p>Sample Grid</p>
    <p>{{ scene|linebreaksbr }}</p>
</ul>
{% endfor %}
{% else %}
<p>No templates are available.</p>
{% endif %}
<script type="text/javascript">

var grid = clickableGrid(30,30,function(el,row,col,i){
    console.log("You clicked on element:",el);
    console.log("You clicked on row:",row);
    console.log("You clicked on col:",col);
    console.log("You clicked on item #:",i);

    el.className='clicked';
});

document.body.appendChild(grid);

function clickableGrid( rows, cols, callback ){
    var i=0;
    var grid = document.createElement('table');
    grid.className = 'grid';
    for (var r=0;r<rows;++r){
        var tr = grid.appendChild(document.createElement('tr'));
        for (var c=0;c<cols;++c){
            var cell = tr.appendChild(document.createElement('td'));
            cell.innerHTML = ++i;
            cell.addEventListener('click',(function(el,r,c,i){
                return function(){
                    callback(el,r,c,i);
                }
            })(cell,r,c,i),false);
        }
    }
    return grid;
}

</script>
{% endblock %}